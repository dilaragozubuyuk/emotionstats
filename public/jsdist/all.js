function graphController(e,t){e.myDataSource1={},t.getMood(function(t){e.data=t,e.sad={rate:0,total:0},e.unhappy={rate:0,total:0},e.happy={rate:0,total:0},e.ok={rate:0,total:0},e.satisfied={rate:0,total:0},1==t.average?e.mood="sad":2==t.average?e.mood="unhappy":3==t.average?e.mood="ok":4==t.average?e.mood="satisfied":5==t.average&&(e.mood="happy"),t.TotalPercent1&&(e.sad={rate:t.TotalPercent1.toString(),total:t.Total1}),t.TotalPercent2&&(e.unhappy={rate:t.TotalPercent2.toString(),total:t.Total2}),t.TotalPercent3&&(e.ok={rate:t.TotalPercent3.toString(),total:t.Total3}),t.TotalPercent4&&(e.satisfied={rate:t.TotalPercent4.toString(),total:t.Total4}),t.TotalPercent5&&(e.happy={rate:t.TotalPercent5.toString(),total:t.Total5}),e.myDataSource1={chart:{paletteColors:"#008ee4,#6baa01,#f8bd19,#e44a00,#33bdda",bgAlpha:"0",borderAlpha:"20",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",startingAngle:"20",showLabels:"0",showLegend:"1",legendShadow:"0",legendBorderAlpha:"0",enableMultiSlicing:"0",slicingDistance:"15",showPercentValues:"1",showPercentInTooltip:"0",decimals:"1"},data:[{label:"Sad",value:e.sad.rate},{label:"Unhappy",value:e.unhappy.rate},{label:"Ok",value:e.ok.rate},{label:"Satisfied",value:e.satisfied.rate},{label:"Happy",value:e.happy.rate}]}})}function homeController(e){e.flag=!0}function DashboardController(e,t,o){t.attrs={},t.categories=[],t.dataset={},t.myDataSource2={},t.dshMoodReviews={},e.flag=!0,o.getEmployeesAverageMood(function(e){t.data=e,t.attrs={caption:"Average Mood (Last 4 Weeks)",numberprefix:"",plotgradientcolor:"",bgcolor:"transparent",showalternatehgridcolor:"0",divlinecolor:"CCCCCC",showvalues:"0",showcanvasborder:"0",canvasborderalpha:"0",canvasbordercolor:"CCCCCC",canvasborderthickness:"1",captionpadding:"30",linethickness:"3",yaxisvaluespadding:"15",legendshadow:"0",legendborderalpha:"0",palettecolors:"#f8bd19,#008ee4,#33bdda,#e44a00,#6baa01,#583e78",showborder:"0"},t.moodAverages=t.data.averageMood,t.moodReviews=t.data.moodReviews,t.dshMoodReviews=t.data.moodReviews,t.categories=[{category:[]}],t.dataset=[{seriesname:"2013",data:[]}],angular.forEach(t.moodAverages,function(e,o){t.categories[0].category.push({label:o}),angular.forEach(e,function(e,o){"average"==o&&t.dataset[0].data.push({value:e})})}),t.myDataSource2={chart:{paletteColors:"#008ee4,#6baa01,#f8bd19,#e44a00,#33bdda",bgAlpha:"0",borderAlpha:"20",use3DLighting:"0",showShadow:"0",enableSmartLabels:"0",startingAngle:"20",showLabels:"0",showLegend:"1",legendShadow:"0",legendBorderAlpha:"0",enableMultiSlicing:"0",slicingDistance:"15",showPercentValues:"1",showPercentInTooltip:"0",decimals:"1"},data:[]},angular.forEach(t.moodReviews,function(e,o){"percent"==o&&(t.percent=100,t.myDataSource2.data.push({label:"Percent",value:e}),t.myDataSource2.data.push({label:"Remaining",value:100-e}))})})}function employeeController(e,t,o,a){t.flag=!0,e.order="",e.search="",t.worker={employeeId:"",employeeName:""},t.changedDepartment={departmentId:"",employeeId:""},e.addEmployee=function(e){t.changedDepartment.employeeId=e.employeeId,t.worker.employeeName=e.employeeName,t.worker.employeeId=e.employeeId},e.addOffEmployee=function(){a.postOffEmployee({employeeId:t.worker.employeeId},function(e){o.path("/mymood")})},a.getEmployee(function(t){"manager"==t.employees.role&&(e.role="manager"),e.employees=t.employees}),e.addChangedDepartment=function(){a.postChangedDepartment(e.changedDepartment,function(e){o.path("/mymood")})},e.getValue=function(e){t.changedDepartment.departmentId=e.id},a.getEmployee(function(t){e.departments=t.departments})}function departmentController(e,t,o,a){t.flag=!0,t.department={},e.addNewDepartment=function(){a.postDepartment(t.department,function(e){o.path("/mymood")})}}function MoodAddController(e,t,o){e.flag=!0}function mymoodController(e,t,o){t.flag=!0,o.getMood(function(t){e.data=t,e.sad={rate:0,total:0},e.unhappy={rate:0,total:0},e.happy={rate:0,total:0},e.ok={rate:0,total:0},e.satisfied={rate:0,total:0},e.moodPoint=t.average,e.mood,1==e.moodPoint?e.mood="sad":2==e.moodPoint?e.mood="unhappy":3==e.moodPoint?e.mood="ok":4==e.moodPoint?e.mood="satisfied":5==e.moodPoint&&(e.mood="happy"),t.TotalPercent1&&(e.sad={rate:t.TotalPercent1,total:t.Total1}),t.TotalPercent2&&(e.unhappy={rate:t.TotalPercent2,total:t.Total2}),t.TotalPercent3&&(e.ok={rate:t.TotalPercent3,total:t.Total3}),t.TotalPercent4&&(e.satisfied={rate:t.TotalPercent4,total:t.Total4}),t.TotalPercent5&&(e.happy={rate:t.TotalPercent5,total:t.Total5})})}function authentication(e,t,o){return{getUser:function(){e({method:"GET",url:"/api/user"}).then(function(e){0==e.data?o.path("/signin"):t.person=e.data})}}}function dataService(e){return{postLoginData:function(t,o){e.post("/login",t).then(function(e){o(e.data)})},getUser:function(t){e({method:"GET",url:"/api/user"}).then(function(e){t&&t(e.data)})},postRegisterData:function(t,o){e.post("/register",t).then(function(e){o(e.data)})},postPassword:function(t,o){e.post("/api/create-password",t).then(function(e){o(e.data)})},getEmployee:function(t){e({method:"GET",url:"/api/employee"}).then(function(e){t&&t(e.data)})},getMood:function(t){e({method:"GET",url:"/api/mood"}).then(function(e){t&&t(e.data)})},postEmployee:function(t,o){e.post("/api/employee",t).then(function(e){o(e.data)})},getEmployeesAverageMood:function(t){e({method:"GET",url:"/api/home"}).then(function(e){t&&t(e.data)})},postDepartment:function(t,o){e.post("/api/new-department",t).then(function(e){o(e.data)})},postChangedDepartment:function(t,o){e.post("/api/changeDepartment",t).then(function(e){o(e.data)})},postOffEmployee:function(t,o){e.post("/api/destroy",t).then(function(e){o(e.data)})}}}function HttpInterceptor(e,t){return{responseError:function(o){return 401==o.status&&t.path("/signin"),e.reject(o)}}}function signinController(e,t,o,a){e.user={},t.flag=!1,e.login=function(){a.postLoginData(e.user,function(e){o.path("/mymood")})}}function signupController(e,t,o,a){e.employee={},t.flag=!1,e.register=function(){a.postRegisterData(e.employee,function(e){o.path("/signin")})}}angular.module("emotionStatsApp").controller("GraphController",graphController),angular.module("emotionStatsApp").controller("HomeController",homeController),angular.module("emotionStatsApp").controller("DashboardController",DashboardController),angular.module("emotionStatsApp").controller("EmployeeController",employeeController),angular.module("emotionStatsApp").controller("DepartmentController",departmentController),angular.module("emotionStatsApp").controller("MoodAddController",MoodAddController),angular.module("emotionStatsApp").controller("MyMoodController",mymoodController),angular.module("emotionStatsApp").factory("Authentication",authentication),angular.module("emotionStatsApp").factory("DataService",dataService),angular.module("emotionStatsApp").factory("HttpInterceptor",HttpInterceptor),angular.module("emotionStatsApp").controller("SignInController",signinController),angular.module("emotionStatsApp").controller("SignUpController",signupController);